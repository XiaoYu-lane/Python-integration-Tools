<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <!-- github需要 -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!--引入elementui样式和组件库-->
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
  <script src="https://unpkg.com/element-ui/lib/index.js"></script>
  <link rel="stylesheet" href="static/css/index.css">
  <title>主页</title>
</head>

<body>
  <div id="app">
    <!--      elementui 布局容器-->
    <el-container>
      <div>
        <!-- 头部 -->
        <el-header>
          <el-row>
            <el-col :span="24">
              <div class="grid-content bg-purple-dark">
                <el-button type="text" @click="setting">设置</el-button>
                <el-button type="text" @click="quit">退出</el-button>
              </div>
            </el-col>
          </el-row>
        </el-header>
        <!-- 主体 -->
        <el-main>
          <div>
            <h1>欢迎使用由Moyu开发的集成web漏洞工具</h1>
            <el-row>
              <el-button type="primary">漏洞工具</el-button>
              <el-dropdown>
                <el-button type="primary">
                  网络爬虫<i class="el-icon-arrow-down el-icon--right"></i>
                </el-button>
                <el-dropdown-menu slot="dropdown">
                  <el-dropdown-item @click="webSpider">图片爬取</el-dropdown-item>
                </el-dropdown-menu>
              </el-dropdown>
              <el-button type="primary">CMS识别</el-button>
              <el-button type="primary">信息收集工具</el-button>
            </el-row>
          </div>
        </el-main>
      </div>
    </el-container>

  </div>
</body>

<script>
  new Vue({
    el: '#app',
    data() {
      return {

      }
    },
    methods: {
      // 匹配中文的正则
      change_chinese(str) {
        res = /[\u4E00-\u9FA5]/g;
        return str.replace(res, str)
      },
      // 退出程序
      quit() {
        pywebview.api.quit();
      },
      // 设置窗口
      setting(obj) {
        pywebview.api.new_win(this.change_chinese(obj.target.innerHTML), 'setting');
      },
      // 网络爬虫
      webSpider(obj) {
        pywebview.api.new_win(this.change_chinese(obj.target.innerHTML), 'web_spider');
      }
    }
  })
</script>

</html>